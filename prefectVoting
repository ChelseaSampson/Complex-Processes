txt = open("votingData.csv","r")
class Person:
  def __init__(self, email, headGirl, deputy, prefectVotes):
    self.email = email
    self.headGirl = headGirl
    self.deputy = deputy
    self.prefectVotes = prefectVotes

class Teacher(Person):
  multiplier = 2

class Student(Person):
  multiplier = 1

isItTheFirstLine = True
listOfVoters = []

#Step 1: Store the voting data in a list
for x in txt:
  if not isItTheFirstLine:
    y = str(x)
    z = y.split("\"")
    a = z[9]
    b = a.split (";")
    if z[3][1].isdigit():
      student = Student(z[3],z[5],z[7], b)
      listOfVoters.append(student)
    else:
      teacher = Teacher(z[3], z[5], z[7], b)
      listOfVoters.append(teacher)
  else:
    isItTheFirstLine = False

#Step 2: Analyse said data, and tally up the votes
headGirlVotes = {}
for x in listOfVoters:
  if x.headGirl in headGirlVotes:
    headGirlVotes[x.headGirl] += (1 * x.multiplier)
  else:
    headGirlVotes[x.headGirl] = 1
  print(x.email)
  print(x.multiplier)

deputyVotes = {}
for x in listOfVoters:
  if x.deputy in deputyVotes:
    deputyVotes[x.deputy] += 1
  else:
    deputyVotes[x.deputy] = 1

prefectVotesDict = {}
for x in listOfVoters:
  for z in x.prefectVotes:
    if z in prefectVotesDict:
      prefectVotesDict[z] += 1
    else:
      prefectVotesDict[z] = 1

#Step 3: Show the amount of times people got voted for
print("Head Girl Votes:")
for x in headGirlVotes:
  print(x)
  print(headGirlVotes[x])

print("Deputy Votes:")
for x in deputyVotes:
  print(x)
  print(deputyVotes[x])

print("Prefect Votes:")
for x in prefectVotesDict:
  print(x)
  print(prefectVotesDict[x])

txt.close()
